<div class="container-fluid mt-7">
  <h5 class="heading alert-heading mb-2">Organisations</h5>
  <div class="card border-0 box-shadow mb-3">
    <div class="card-header border-bottom-0 pt-3 pb-0 bg-transparent">
      <div class="row">
        <div class="col-8">
          <a class="add-btn" href="javascript:void(0)" (click)="addDialog()"><span class="fa fa-plus-circle"></span> Add</a>
        </div>
        <div class="col-4 d-flex justify-content-end">
          <app-search [(data)]="data"></app-search>
        </div>
      </div>
    </div>
    <div class="card-body pt-3">
      <div class="table-responsive">
        <table class="table table-striped table-hover" [ngBusy]="data.busy">
          <thead>
          <tr>
            <th scope="col">
              <app-arrange-col
                [(data)]="data"
                [nameAttr]="'organisationName'">
               Org. Name
              </app-arrange-col>
            </th>
            <th scope="col">
              <app-arrange-col
                [(data)]="data"
                [nameAttr]="'organisationPhone'">
               Org. Phone
              </app-arrange-col>
            </th>
            <th scope="col">
              <app-arrange-col
                [(data)]="data"
                [nameAttr]="'address.city'">
                City
              </app-arrange-col>
            </th>
            <th scope="col">
              <app-arrange-col
                [(data)]="data"
                [nameAttr]="'address.state'">
                State
              </app-arrange-col>
            </th>
            <th scope="col">
              <app-arrange-col
                [(data)]="data"
                [nameAttr]="'createdAt'">
                Registered Date
              </app-arrange-col>
            </th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let item of data.list; let index = index;">
            <td>{{item.organisationName}}</td>
            <td>{{item.organisationPhone}}</td>
            <td>{{item.address?.city || '--'}}</td>
            <td>{{item.address?.state || '--'}}</td>
            <td>{{item.createdAt | date}}</td>
            <td>
              <a class="btn btn-info btn-sm btn-xs" href="javascript:void(0)" (click)="editDialog(item)"><span class="fa fa-pencil"></span></a>
              <a class="btn btn-danger btn-sm btn-xs" href="javascript:void(0)" (click)="openDeleteDialog(item._id, index)"><span class="fa fa-trash"></span></a>
            </td>
          </tr>
          <tr *ngIf="data.busy.closed && !data.list.length">
            <td class="text-center" colspan="7">
              No Records Found
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="card-footer border-top-0 pt-0 pb-2 bg-transparent">
      <app-pagination [(data)]="data"></app-pagination>
    </div>
  </div>
</div>
